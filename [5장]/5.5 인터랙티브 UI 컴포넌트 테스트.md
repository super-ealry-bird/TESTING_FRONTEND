# Chapter 5. UI ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸
### 5.5 ì¸í„°ë™í‹°ë¸Œ UI ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸
> Form ìš”ì†Œì˜ ì…ë ¥ê³¼ ìƒíƒœë¥¼ ì²´í¬í•˜ëŠ” í…ŒìŠ¤íŠ¸ 
> ì ‘ê·¼ì„± ê¸°ë°˜ ì¿¼ë¦¬ë¥¼ ì‚¬ìš©í•˜ë©° DOM êµ¬ì¡°ë¥¼ í† ëŒ€ë¡œ ë§Œë“¤ì–´ì§„ ì ‘ê·¼ì„±ì´ ë¬´ì—‡ì¸ì§€ ì•Œì•„ë³´ì.

<br/>

### 5.5.1 í…ŒìŠ¤íŠ¸í•  UI ì»´í¬ë„ŒíŠ¸
> ì‹ ê·œ ê³„ì • ë“±ë¡ì„ ìœ„í•œ Form ì»´í¬ë„ŒíŠ¸ 
>
> ë©”ì¼ ì£¼ì†Œ, ë¹„ë°€ë²ˆí˜¸ ì…ë ¥ > íšŒì›ê°€ì… ìš”ì²­ > ì´ìš© ì•½ê´€ ë™ì˜ í•„ìˆ˜ ì²´í¬

<br/>

[ From í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ : ì´ìš© ì•½ê´€ ë™ì˜ ]

ğŸ‘‰ğŸ» ì²´í¬ ë°•ìŠ¤ í´ë¦­ > onChange ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¡œ ì½œë°± í•¨ìˆ˜ í˜¸ì¶œ 
```ts
type Props = {
  onChange?: React.ChangeEventHandler<HTMLInputElement>;
};

export const Agreement = ({ onChange }: Props) => {
  return (
    <fieldset>
      <legend>ì´ìš© ì•½ê´€ ë™ì˜</legend>
      <label>
        <input type="checkbox" onChange={onChange} />
        ì„œë¹„ìŠ¤&nbsp;<a href="/terms">ì´ìš© ì•½ê´€</a>ì„ í™•ì¸í–ˆìœ¼ë©° ì´ì— ë™ì˜í•©ë‹ˆë‹¤
      </label>
    </fieldset>
  );
};
```
<p align="center">
<img width="461" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-08-13 00 59 44" src="https://github.com/user-attachments/assets/d2b843f8-ed55-45b6-98bb-670caa13c091">
</p>


<br/>

**[ ì ‘ê·¼ ê°€ëŠ¥í•œ ì´ë¦„ ì¸ìš©í•˜ê¸° ]**
> fieldset ìš”ì†ŒëŠ” group ì´ë¼ëŠ” ì•”ë¬µì  ì—­í• 

[ legend ì— ìˆëŠ” ë¬¸ìë¥¼ fieldsetì˜ **ì ‘ê·¼ ê°€ëŠ¥í•œ ì´ë¦„** ìœ¼ë¡œ ì´ìš©í•  ìˆ˜ ìˆëŠ”ì§€ ê²€ì¦ ]

```ts
test("fieldsetì˜ ì ‘ê·¼ ê°€ëŠ¥í•œ ì´ë¦„ì„ legendì—ì„œ ì¸ìš©í•©ë‹ˆë‹¤", () => {
  render(<Agreement />);
  expect(
    screen.getByRole("group", { name: "ì´ìš© ì•½ê´€ ë™ì˜" })
  ).toBeInTheDocument();
});
```

```ts
export const Agreement = ({ onChange }: Props) => {
  return (
    <div>
      <legend>ì´ìš© ì•½ê´€ ë™ì˜</legend>
      <label>
        <input type="checkbox" onChange={onChange} />
        ì„œë¹„ìŠ¤&nbsp;<a href="/terms">ì´ìš© ì•½ê´€</a>ì„ í™•ì¸í–ˆìœ¼ë©° ì´ì— ë™ì˜í•©ë‹ˆë‹¤
      </label>
    </div>
  );
};
```
ğŸ’¡ ì ‘ê·¼ì„±ì—ì„œ 'div' ëŠ” ì—­í• ì„ ê°€ì§€ì§€ ì•Šê¸° ë•Œë¬¸ì— í•˜ë‚˜ì˜ ê·¸ë£¹ìœ¼ë¡œ ì‹ë³„ì´ ë˜ì§€ ì•ŠëŠ”ë‹¤. ì´ì™€ê°™ì´ ì ‘ê·¼ì„±ì„ ì§€í‚¤ì§€ ì•Šì€ ì½”ë“œëŠ” í…ŒìŠ¤íŠ¸ ì‘ì„± ì‹œ íŠ¹ì • ê·¸ë£¹ìœ¼ë¡œ ì¸ì‹í•˜ê¸° ì–´ë µê²Œ ë§Œë“ ë‹¤.

<br/>

**[ ì²´í¬ ë°•ìŠ¤ì˜ ì´ˆê¸° ìƒíƒœ ê²€ì¦ ]**

`toBeChecked` : ì²´í¬ ë°•ìŠ¤ ìƒíƒœë¥¼ ì»¤ìŠ¤í…€ ë§¤ì²˜ë¡œ ê²€ì¦

```ts
//ë Œë”ë§ ì§í›„ì—ëŠ” ì²´í¬ë˜ì§€ ì•Šì€ ìƒíƒœë¡œ not.toBeChecked ëŠ” ì„±ê³µí•œë‹¤.
test("ì²´í¬ ë°•ìŠ¤ê°€ ì²´í¬ë˜ì–´ ìˆì§€ ì•ŠìŠµë‹ˆë‹¤", () => {
  render(<Agreement />);
  expect(screen.getByRole("checkbox")).not.toBeChecked();
});
```

<br/>

### 5.5.2 ê³„ì • ì •ë³´ ì…ë ¥ ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸
> íšŒì›ê°€ì… ì‹œ í•„ìš”í•œ ë©”ì¼ ì£¼ì†Œì™€ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ëŠ” UI ì»´í¬ë„ŒíŠ¸

<br/>

```ts
export const InputAccount = () => {
  return (
    <fieldset>
      <legend>ê³„ì •ì •ë³´ ì…ë ¥</legend>
      <div>
        <label>
          ë©”ì¼ì£¼ì†Œ
          <input type="text" placeholder="example@test.com" />
        </label>
      </div>
      <div>
        <label>
          ë¹„ë°€ë²ˆí˜¸
          <input type="password" placeholder="8ì ì´ìƒ" />
        </label>
      </div>
    </fieldset>
  );
};
```

<br/>

**[ userEventë¡œ ë¬¸ìì—´ ì…ë ¥í•˜ê¸° ]**

ë¬¸ìì—´ ì…ë ¥ì€ `@testing-library/react` ì˜ `fireEvent` ë¡œ ì¬í˜„í•  ìˆ˜ ìˆì§€ë§Œ, ì‹¤ì œ ì‚¬ìš©ì ì‘ë™ì— ê°€ê¹ê²Œ ì…ë ¥ì„ ì¬í˜„í•˜ëŠ” `@tsting-library/user-event`ë¥¼ ì‚¬ìš©í•œë‹¤.

```shell
userEvent.setup() ìœ¼ë¡œ API í˜¸ì¶œí•  user ì¸ìŠ¤í„´ìŠ¤ ìƒì„±
userë¡œ ì…ë ¥ì´ ë°œìƒ
screen.getByRole ë¡œ 'ë©”ì¼ì£¼ì†Œ ì…ë ¥ë€' ì·¨ë“
textbox ì— user.type API ë¡œ ì…ë ¥ì„ ì¬í˜„
userEvent (ë¹„ë™ê¸° ì²˜ë¦¬) await ë¥¼ ì‚¬ìš©í•´ ì…ë ¥ì´ ì™„ë£Œë ë•Œê¹Œì§€ ëŒ€ê¸°
getByDisplayValue ë¡œ ì´ˆê¹ƒê°’ì´ ì…ë ¥ëœ í¼ ìš”ì†Œê°€ ì¡´ì¬í•˜ëŠ”ì§€ ê²€ì¦
```

```ts
// í…ŒìŠ¤íŠ¸ íŒŒì¼ ì‘ì„± ì´ˆê¸°ì— ì„¤ì •
const user = userEvent.setup();

test("ë©”ì¼ì£¼ì†Œ ì…ë ¥ë€", async () => {
  render(<InputAccount />);
  // ë©”ì¼ì£¼ì†Œ ì…ë ¥ë€ ì·¨ë“
  const textbox = screen.getByRole("textbox", { name: "ë©”ì¼ì£¼ì†Œ" });
  const value = "taro.tanaka@example.com";
  // textboxì— valueë¥¼ ì…ë ¥
  await user.type(textbox, value);
  // ì´ˆê¹ƒê°’ì´ ì…ë ¥ëœ í¼ ìš”ì†Œê°€ ì¡´ì¬í•˜ëŠ”ì§€ ê²€ì¦
  expect(screen.getByDisplayValue(value)).toBeInTheDocument();
});
```

<br/>

**[ ë¹„ë°€ë²ˆí˜¸ ì…ë ¥í•˜ê¸° ]**

ë©”ì¼ ì£¼ì†Œì™€ ë™ì¼í•˜ê²Œ ì‘ì„±í•˜ê²Œë˜ë©´ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ë©° ì‹¤íŒ¨í•œë‹¤.

```ts
test("ë¹„ë°€ë²ˆí˜¸ ì…ë ¥ë€", async () => {
  render(<InputAccount />);
  const textbox = screen.getByRole("textbox", { name: "ë¹„ë°€ë²ˆí˜¸" });
  expect(textbox).toBeInTheDocument();
});
```

ğŸ’¡ ì‹¤íŒ¨ ì´ìœ  : input type='password' ê°€ ì—­í• ì„ ê°€ì§€ì§€ ì•Šê¸° ë•Œë¬¸ì´ë‹¤.
'radio' ì²˜ëŸ¼ input ì´ì§€ë§Œ radio í•˜ëŠ” ê²½ìš°ë„ ìˆë‹¤.
ì´ì²˜ëŸ¼ HTML ìš”ì†Œì™€ ì—­í• ì´ í•­ìƒ ì¼ì¹˜í•˜ì§€ëŠ” ì•ŠëŠ”ë‹¤ëŠ” ì ì„ ê¸°ì–µí•´ì•¼ í•œë‹¤.

<br />

_getByPlaceholderText ë¥¼ ì‚¬ìš©í•˜ì—¬ placeholder ê°’ ì°¸ì¡°_
```ts
test("ë¹„ë°€ë²ˆí˜¸ ì…ë ¥ë€", async () => {
  render(<InputAccount />);
  expect(() => screen.getByPlaceholderText("8ì ì´ìƒ")).not.toThrow();
  expect(() => screen.getByRole("textbox", { name: "ë¹„ë°€ë²ˆí˜¸" })).toThrow();
});
```

_ìš”ì†Œ ì·¨ë“ í›„ ë¬¸ìì—´ ì…ë ¥ > ë‹¨ì–¸ë¬¸ ì‘ì„±_
```ts
test("ë¹„ë°€ë²ˆí˜¸ ì…ë ¥ë€", async () => {
  render(<InputAccount />);
  const password = screen.getByPlaceholderText("8ì ì´ìƒ");
  const value = "abcd1234";
  await user.type(password, value);
  expect(screen.getByDisplayValue(value)).toBeInTheDocument();
});
```

<br/>


### 5.5.3 ì‹ ê·œ íšŒì›ê°€ì… í¼ í…ŒìŠ¤íŠ¸
> Form ì»´í¬ë„ŒíŠ¸ : ì²´í¬ë°•ìŠ¤ ì²´í¬ ì—¬ë¶€ëŠ” ë¦¬ì•¡íŠ¸ì˜ useState ì‚¬ìš©

<br/>

```ts
import { useId, useState } from "react";
import { Agreement } from "./Agreement";
import { InputAccount } from "./InputAccount";

export const Form = () => {
  const [checked, setChecked] = useState(false);
  const headingId = useId();
  return (
    <form aria-labelledby={headingId}>
      <h2 id={headingId}>ì‹ ê·œ ê³„ì • ë“±ë¡</h2>
      <InputAccount />
      <Agreement
        onChange={(event) => {
          setChecked(event.currentTarget.checked);
        }}
      />
      <div>
        <button disabled={!checked}>íšŒì›ê°€ì…</button>
      </div>
    </form>
  );
};
```

<br/>

**[ íšŒì›ê°€ì… ë²„íŠ¼ì˜ í™œì„±í™” ì—¬ë¶€ í…ŒìŠ¤íŠ¸ ]**

```shell
ì²´í¬ë°•ìŠ¤ í´ë¦­ : checked ìƒíƒœ ë³€ê²½
'íšŒì›ê°€ì…' ë²„íŠ¼ í™œì„±í™” ì—¬ë¶€ ë³€ê²½
await user.click() í˜•ì‹ìœ¼ë¡œ ì¬í˜„
ë²„íŠ¼ì˜ í™œì„±í™” ì—¬ë¶€ ê²€ì¦ : toBeDisabled / toBeEnabled ë§¤ì²˜ ì‚¬ìš©
```

```ts
test("íšŒì›ê°€ì… ë²„íŠ¼ì€ ë¹„í™œì„±í™” ìƒíƒœë‹¤", () => {
  render(<Form />);
  expect(screen.getByRole("button", { name: "íšŒì›ê°€ì…" })).toBeDisabled();
});

test("ì´ìš© ì•½ê´€ì— ë™ì˜í•˜ëŠ” ì²´í¬ ë°•ìŠ¤ë¥¼ í´ë¦­í•˜ë©´ íšŒì›ê°€ì… ë²„íŠ¼ì€ í™œì„±í™”ëœë‹¤", async () => {
  render(<Form />);
  await user.click(screen.getByRole("checkbox"));
  expect(screen.getByRole("button", { name: "íšŒì›ê°€ì…" })).toBeEnabled();
});
```

<br/>

**[ formì˜ ì ‘ê·¼ ê°€ëŠ¥í•œ ì´ë¦„ ]**

í¼ì˜ ì ‘ê·¼ ê°€ëŠ¥í•œ ì´ë¦„ = heading ì—­í• ì„ í•˜ëŠ” 'h2' ìš”ì†Œì—ì„œ ì¸ìš©

<br/>

ğŸ’¡ HTML ìš”ì†Œì˜ id ì†ì„±ì€ ê³ ìœ í•œ ê°’ì´ì–´ì•¼ í•œë‹¤. ë¦¬ì•¡íŠ¸18ì— ì¶”ê°€ëœ í›…ì¸ `useId`ë¥¼ ì‚¬ìš©í•˜ë©´ ì ‘ê·¼ì„±ì— í•„ìš”í•œ `id` ê°’ì„ ìë™ìœ¼ë¡œ ìƒì„±í•˜ê³  ê´€ë¦¬í•´ì¤€ë‹¤.

```ts
export const Form = () => {
  const headingId = useId();
  return (
    <form aria-labelledby={headingId}>
      <h2 id={headingId}>ì‹ ê·œ ê³„ì • ë“±ë¡</h2>
      /* ... */
    </form>
  );
};
```

ì´ë ‡ê²Œ ì ‘ê·¼ ê°€ëŠ¥í•œ ì´ë¦„ì„ í• ë‹¹í•˜ë©´ form ìš”ì†Œì— 'form' ì´ë¼ëŠ” ì—­í• ì´ ì ìš©ëœë‹¤.

_(ì ‘ê·¼ ê°€ëŠ¥í•œ ì´ë¦„ì´ ì•„ë‹ ê²½ìš°ì—ëŠ” ì—­í• ì„ ê°€ì§€ì§€ ì•ŠëŠ”ë‹¤!)_

```ts
test("formì˜ ì ‘ê·¼ ê°€ëŠ¥í•œ ì´ë¦„ì€ headingì—ì„œ ì¸ìš©í•©ë‹ˆë‹¤", () => {
  render(<Form />);
  expect(
    screen.getByRole("form", { name: "ì‹ ê·œ ê³„ì • ë“±ë¡" })
  ).toBeInTheDocument();
});
```

<br />
















